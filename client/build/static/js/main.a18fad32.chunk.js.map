{"version":3,"sources":["util/API.js","components/BookResult/bookResult.js","pages/Saved/saved.js","pages/Search/search.js","components/Header/header.js","components/TitleCard/titleCard.js","components/Notification/notification.js","App.js","reportWebVitals.js","index.js"],"names":["routes","searchBooks","title","axios","get","saveBook","book","post","deleteBook","id","delete","getBooks","BookResult","onClick","selector","bookInfo","isSearch","setBookList","socket","authorString","authors","i","length","imageLinks","image","smallThumbnail","event","preventDefault","API","then","emit","catch","err","console","log","_id","data","className","action","link","type","alt","src","description","Saved","useState","bookList","useEffect","booksJSX","map","Search","value","setValue","infoLink","onSubmit","items","item","volumeInfo","onChange","e","target","placeholder","Header","href","data-toggle","data-target","aria-controls","aria-expanded","aria-label","TitleCard","Notification","msg","App","notification","setNotification","setSocket","s","io","on","setTimeout","path","exact","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a18fad32.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst routes = {\r\n    searchBooks: function (title) {\r\n        return axios.get(`/api/search/${title}`)\r\n    },\r\n    saveBook: function (book) {\r\n        return axios.post('/api/books',book);\r\n    },\r\n    deleteBook: function (id) {\r\n        return axios.delete(`/api/books/${id}`);\r\n    },\r\n    getBooks: function () {\r\n        return axios.get('/api/books');\r\n    }\r\n}\r\n\r\nexport default routes;","import React from \"react\";\r\nimport \"./styles.css\";\r\nimport API from \"../../util/API\"\r\n\r\nfunction BookResult({ bookInfo, isSearch, setBookList, socket }) {\r\n\r\n    let book = {};\r\n\r\n    let authorString = \"No Listed Author\";\r\n\r\n    let onClick;\r\n    let selector;\r\n\r\n    if (isSearch) {\r\n\r\n\r\n        if (bookInfo[\"title\"]) {\r\n            book[\"title\"] = bookInfo[\"title\"];\r\n        }\r\n\r\n        if (bookInfo[\"description\"]) {\r\n            book[\"description\"] = bookInfo[\"description\"];\r\n        }\r\n\r\n        if (bookInfo[\"authors\"]) {\r\n            book[\"authors\"] = bookInfo[\"authors\"];\r\n\r\n            authorString = book.authors[0];\r\n            for (let i = 1; i < book.authors.length; i++) {\r\n                authorString = authorString + \", \" + book.authors[i];\r\n            }\r\n        }\r\n\r\n        if (bookInfo.imageLinks) {\r\n            book.image = bookInfo.imageLinks.smallThumbnail;\r\n        }\r\n\r\n        if (bookInfo[\"infoLink\"]) {\r\n            book[\"link\"] = bookInfo[\"infoLink\"];\r\n        }\r\n\r\n\r\n\r\n\r\n        selector = \"Save\";\r\n        onClick = function (event) {\r\n            event.preventDefault();\r\n            API.saveBook(book)\r\n                .then(() => {\r\n                    socket.emit(\"saved\", book.title);\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                });\r\n        }\r\n\r\n    } else {\r\n        book = bookInfo;\r\n\r\n        selector = \"Delete\";\r\n        onClick = function (event) {\r\n            event.preventDefault();\r\n            API.deleteBook(bookInfo._id)\r\n                .then((data) => {\r\n                    socket.emit(\"removed\", book.title);\r\n                    API.getBooks()\r\n                        .then(data => setBookList(data.data));\r\n                })\r\n                .catch(err => {\r\n                    console.log(err)\r\n                });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-12\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-10\">\r\n                        <p>{book.title || \"NO TITLE\"}</p>\r\n                        <p>Written By: {authorString}</p>\r\n                    </div>\r\n                    <div className=\"col-2\">\r\n                        <form action={book.link}>\r\n                            <button type=\"submit\">View</button>\r\n                        </form>\r\n\r\n                        <button onClick={onClick}>{selector}</button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-3\">\r\n                        <img alt=\"book cover\" src={book.image} />\r\n                    </div>\r\n                    <div className=\"col-9\">\r\n                        <p>{book.description || \"NO DESCRIPTION\"}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>);\r\n}\r\n\r\n\r\nexport default BookResult;","import React, { useEffect, useState } from \"react\";\r\nimport BookResult from \"../../components/BookResult/bookResult\";\r\nimport \"./styles.css\";\r\nimport API from '../../util/API';\r\n\r\nfunction Saved({socket}) {\r\n\r\n    const [bookList, setBookList] = useState([]);\r\n\r\n\r\n    useEffect(function () {\r\n        API.getBooks()\r\n            .then(data => {\r\n                setBookList(data.data);\r\n            });\r\n    }, []);\r\n\r\n    let booksJSX = bookList.map(book => (<BookResult socket={socket} setBookList={setBookList} key={book._id} isSearch={false} bookInfo={book} />));\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-12\">\r\n                <h3>Saved Books</h3>\r\n\r\n                {booksJSX}\r\n\r\n            </div>\r\n        </div>);\r\n}\r\n\r\n\r\nexport default Saved;","import React, { useState } from \"react\";\r\nimport BookResult from \"../../components/BookResult/bookResult\";\r\nimport \"./styles.css\";\r\nimport API from '../../util/API'\r\n\r\nfunction Search({socket}) {\r\n\r\n    const [value, setValue] = useState(\"\");\r\n    const [bookList, setBookList] = useState([]);\r\n\r\n    let onSubmit = function (event) {\r\n        event.preventDefault();\r\n\r\n        API.searchBooks(value)\r\n            .then((data) => {\r\n                console.log(data.data.items);\r\n                setBookList(data.data.items.map(item => item.volumeInfo));\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            });\r\n    };\r\n\r\n    let booksJSX = bookList.map(book => (<BookResult socket={socket} key={book.infoLink} isSearch={true} bookInfo={book} />));\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-12\">\r\n                <form onSubmit={onSubmit}>\r\n                    <h3>Book Search</h3>\r\n                    <input type=\"text\" value={value} onChange={(e) => {\r\n                        setValue(e.target.value);\r\n                    }} placeholder=\"Search By title\"></input>\r\n                    <button type=\"submit\">Search</button>\r\n                </form>\r\n\r\n                {booksJSX}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Search;","import React from \"react\";\r\nimport \"./styles.css\";\r\n\r\nfunction Header() {\r\n    return (\r\n        <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n            <a className=\"navbar-brand\" href=\"./\">Google Books</a>\r\n\r\n            <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\"\r\n                aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n\r\n                <span className=\"navbar-toggler-icon\"></span>\r\n            </button>\r\n            <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n                <ul className=\"navbar-nav ml-auto\">\r\n\r\n                    <li className=\"nav-item\">\r\n                        <a className=\"nav-link\" href=\"./Search\">Search</a>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        <a className=\"nav-link\" href=\"./saved\">Saved</a>\r\n                    </li>\r\n\r\n                </ul>\r\n            </div>\r\n        </nav>);\r\n}\r\n\r\n\r\nexport default Header;","import React from \"react\";\r\nimport \"./styles.css\";\r\n\r\nfunction TitleCard() {\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-12 text-center\">\r\n                <h1>(React) Google Book Search </h1>\r\n                <h2>Search For and Save Books of Interest</h2>\r\n            </div>\r\n        </div>);\r\n}\r\n\r\n\r\nexport default TitleCard;","import React from \"react\";\r\nimport \"./styles.css\";\r\n\r\nfunction Notification({msg}) {\r\n    return (\r\n    <div className=\"notification\">\r\n        <p>{msg}</p>\r\n    </div>);\r\n}\r\n\r\n\r\nexport default Notification;","import './App.css';\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport { io } from \"socket.io-client\";\nimport React, { useState, useEffect } from 'react';\nimport Saved from './pages/Saved/saved';\nimport Search from './pages/Search/search';\nimport Header from './components/Header/header';\nimport TitleCard from './components/TitleCard/titleCard';\nimport Notification from './components/Notification/notification';\n\nfunction App() {\n\n  const [notification, setNotification] = useState();\n  const [socket, setSocket] = useState();\n\n  useEffect(() => {\n\n    console.log(\"hello\");\n    const s = io();\n    setSocket(s);\n  }, []);\n\n\n  useEffect(() => {\n    if (socket) {\n      socket.on('notify', (msg) => {\n\n        setNotification(<Notification msg={msg} />);\n\n        setTimeout(() => {\n          setNotification();\n        }, 10000);\n      });\n    }\n  }, [socket]);\n\n\n\n\n\n  return (\n\n    <div className=\"container\">\n      <BrowserRouter>\n\n        <Header />\n        <TitleCard />\n        <Switch>\n          <Route path=\"/\" exact component={() => <Saved socket={socket} />} />\n          <Route path=\"/saved\" exact component={() => <Saved socket={socket} />} />\n          <Route path=\"/search\" exact component={() => <Search socket={socket} />} />\n        </Switch>\n        {notification}\n      </BrowserRouter >\n    </ div>\n\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport \"../node_modules/bootstrap/dist/css/bootstrap.min.css\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}